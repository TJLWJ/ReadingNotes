# 第一章 多媒体概念介绍

---

## 1.1 视频格式

- 视频格式：
   - 本地影像视频
   - 网络流媒体影像视频

- 原始视频数据：没有经过编码的数据。

- usb摄像头输出格式常见的有：
   - RGB24
   - YUV2
   - YV2
   - MJPEG(经过编码的数据)
   
### 1.1.1 常见格式

- MPEG/MPG/DAT

MPEG(运动图像专家组)是 Motion Picture Experts Group 的缩写。

MPEG 系列标准已成为国际上影响最大的多媒体技术标准。

格式：
- MPEG-1: 应用在 VCD 的制作和一些视频片段下载的网络应用上。(刻录软件自动将 MPEG1 转换为 DAT 格式)
- MPEG-2: 应用在 DVD 的制作，一些 HDTV(高清晰电视广播)和一些高要求视频编辑、处理上。
- MPEG-4:

MPEG-1 和 MPEG-2 采用第一代数据压缩编码技术：预测编码、变换编码、熵编码及运动补偿等。

MPEG-4（ISO/IEC 14496）则是基于第二代压缩编码技术，它以视听媒体对象为基本单元，采用基于内容的压缩编码，以实现数字视音频、图形合成应用及交互式多媒体的集成。

---

- AVI

音频视频交错(Audio Video Interleaved)的英文缩写。

微软公司发表。

在视频领域可以说是最悠久的格式之一。

AVI 格式调用方便、图像质量好，压缩标准可任意选择，是应用最广泛、也是应用时间最长的格式之一。

---

- MOV

QuickTime 原本是 Apple 公司用于 Mac 计算机上的一种图像视频处理软件。

Quick-Time 提供了两种标准图像和数字视频格式：
- 支持静态的*.PIC 和*.JPG 图像格式
- 动态的基于 Indeo 压缩法的*.MOV 和基于 MPEG 压缩法的*.MPG 视频格式。

---

- ASF

Advanced Streaming format 高级流格式。

使用了 MPEG4 的压缩算法。

---

- WMV

一种独立于编码方式的在 Internet 上实时传播多媒体的技术标准。

主要优点在于：
- 可扩充的媒体类型
- 本地或网络回放
- 可伸缩的媒体类型
- 流的优先级化
- 多语言支持
- 扩展性

---

- NAVI

New AVI 的缩写。

一种去掉视频流特性的改良型 ASF 格式。

---

- 3GP

一种 3G 流媒体的视频编码格式。

是“第三代合作伙伴项目”(3GPP)制定的一种多媒体标准。

其核心由包括高级音频编码(AAC)、自适应多速率 (AMR) 和 MPEG-4 和 H.263 视频编码解码器等组成。

特点是网速占用较少，但画质较差。

---

- REAL VIDEO

可以说是视频流技术的始创者。

可以在用 56K MODEM 拨号上网的条件实现不间断的视频播放。

---

- MKV

可在一个文件中集成多条不同类型的音轨和字幕轨。

是一种全称为 Matroska 的新型多媒体封装格式。

---

- FLV

是 FLASH VIDEO 的简称

它形成的文件极小、加载速度极快，使得网络观看视频文件成为可能。

---

- F4V

作为一种更小更清晰，更利于在网络传播的格式。

F4V 已经逐渐取代了传统 FLV。

FLV 格式采用的是 H263 编码，而 F4V 则支持 H.264 编码的高清晰视频，码率最高可达 50Mbps。

---

- RMVB

前身为 RM 格式。

它们是 Real Networks 公司所制定的音频视频压缩规范。

根据不同的网络传输速率，而制定出不同的压缩比率。

从而实现在低速率的网络上进行影像数据实时传送和播放。

具有体积小，画质也还不错的优点。

---

- WebM

由 Google 提出，是一个开放、免费的媒体文件格式。

WebM 影片格式其实是以 Matroska（即 MKV）容器格式为基础开发的新容器格式。

包括了 VP8 影片轨和 Ogg Vorbis 音轨。

---

## 1.2 音频格式

人耳所能听到的声音，最低的频率是从 20Hz 起一直到最高频率 20KHZ，20KHz 以上人耳是听不到的。

采样速率需要介于 40~50KHZ 之间。

### 1.2.1 常见格式
常见的音频格式有：CD 格式、WAVE（*.WAV）、AIFF、AU、MP3、MIDI、WMA、RealAudio、VQF、OggVorbis、AAC、APE。

---

- CD 格式

音质比较高的音频格式。

标准 CD 格式也就是 44.1K 的采样频率，速率 88K/秒，16 位量化位数，因为 CD 音轨可以说是近似无损的。

一个 CD 音频文件是一个*.cda 文件。

---

- WAVE

微软公司开发的一种声音文件格式，它符合 PIFFResource Interchange File Format 文件规范。

“*.WAV”格式支持 MSADPCM、CCITT A LAW 等多种压缩算法，支持多种音频位数、采样频率和声道。

标准格式的 WAV 文件和 CD 格式一样，也是 44.1K 的采样频率，速率 88K/秒，16 位量化位数。

---

- AIFF

音频交换文件格式(Audio Interchange File Format) 格式和 AU 格式，它们都和 WAV 非常相像。

是 APPLE 公司开发的一种音频文件格式。

属于 QuickTime 技术的一部分。

---

- AU

AUDIO 文件是 SUN 公司推出的一种数字音频格式。AU 文件原先是 UNIX 操作系统下的数字声音文件。

---

- MP3

全称是 MPEG(MPEG：Moving Picture Experts Group)AudioLayer-3

MP3 格式诞生于八十年代的德国，所谓的 MP3 也就是指的是 MPEG 标准中的音频部分，也就是 MPEG 音频层。

根据压缩质量和编码处理的不同分为 3 层，分别对应“*.mp1",“*.mp2”,“*.mp3”这 3 种声音文件。

MP3 格式压缩音乐的采样频率有很多种，可以用 64Kbps 或更低的采样频率节省空间，也可以用 320Kbps 的标准达到极高的音质。

采用缺省的 CBR（固定采样频率）技术可以以固定的频率采样一首歌曲，而 VBR（可变采样频率）则可以在音乐“忙”的时候加大采样的频率获取更高的音质。

在 VBR 的基础上，LAME 发展出 ABR 算法。ABR（AverageBitrate）平均比特率，是 VBR 的一种插值参数。

---

- MIDI

MIDI（Musical Instrument Digital Interface）格式被经常玩音乐的人使用，MIDI 允许数字合成器和其他设备交换数据。

MID 文件格式由 MIDI 继承而来。

MID 文件并不是一段录制好的声音，而是记录声音的信息，然后在告诉声卡如何再现音乐的一组指令。

这样一个 MIDI 文件每存 1 分钟的音乐只用大约 5～10KB。

---

- WMA

Windows Media Audio

音质要强于 MP3 格式，更远胜于RA 格式

压缩率一般都可以达到 1：18 左右

另一个优点是内容提供商可以通过 DRM（Digital Rights Management）方案如 Windows Media Rights Manager 7 加入防拷贝保护。

这种内置了版权保护技术可以限制播放时间和播放次数甚至于播放的机器等等。

WMA 还支持音频流(Stream)技术，适合在网络上在线播放。
 
微软官方宣布的资料中称 WMA 格式的可保护性极强，甚至可以限定播放机器、播放时间及播放次数，具有相当的版权保护能力。

WMA 还在压缩比上进行了深化，它的目标是在相同音质条件下文件体积可以变的更小（当然，只在 MP3 低于 192KBPS 码率的情况下有效，实际上当采用 LAME 算法压缩 MP3 格式时，高于 192KBPS 时普遍的反映是 MP3 的音质要好于 WMA）。

---

- RealAudio

主要适用于在网络上的在线音乐欣赏。

real audio 的文件格式主要有这么几种：有 RA（RealAudio）、RM（RealMedia，RealAudio G2）、RMX（RealAudio Secured），还有更多。

---

- VQF

它的核心是减少数据流量但保持音质的方法来达到更高的压缩比，VQF 的音频压缩率比标准的 MPEG 音频压缩率高出近一倍，可以达到 18:1 左右甚至更高。

在音频压缩率方面，MP3 和 RA 都不是 VQF 的对手。

当VQF以44KHz、80kbit/s 的音频采样率压缩音乐时，它的音质优于 44KHz、128kbit/s 的 MP3。

当VQF以44KHz、96kbit/s 的频率压缩时，它的音质几乎等于 44KHz、256kbit/s 的 MP3。

---

- OggVorbis

文件的扩展名是*.OGG

VORBIS 采用有损压缩，但通过使用更加先进的声学模型去减少损失，因此，同样位速率(BitRate)编码的 OGG 与 MP3 相比听起来更好一些。另外，还有一个原因，MP3 格式是受专利保护的。如果你想使用 MP3 格式发布自己的作品，则需要付给 Fraunhofer（发明 MP3 的公司）专利使用费。而 VORBIS 就完全没有这个问题。

OGG 是完全开放和免费的，制作 OGG 文件将不受任何专利限制。

---

- AMR

全称 Adaptive Multi-Rate，自适应多速率编码，主要用于移动设备的音频，压缩比比较大，但相对其他的压缩格式质量比较差，由于多用于人声，通话，效果还是很不错的。

分类：
- AMR: 又称为 AMR-NB，语音带宽范围：300－3400Hz，8KHz 抽样
- AMR-WB: AMR WideBand，语音带宽范围：50－7000Hz，16KHz 抽样

“AMR-WB”全称为“Adaptive Multi-rate - Wideband”，即“自适应多速率宽带编码”，采样频率为 16kHz

---

## 1.3 字幕格式

### 1.3.1  外挂字幕与内嵌字幕
- 外挂字幕：是视频文件和字幕文件分离，在播放的时候要导入字幕文件。比如 DVD 就会自动导入字幕。外挂字幕的好处是：可以导入自己国家的语言。
- 内嵌字幕：视频文件和字幕文件已经集成到了一起，没有办法改变和去掉了。

---

### 1.3.2 比较 
- 外挂字幕：对视频本身的分辨率损害很小甚至为零。
- 内嵌字幕：将视频连带外挂字幕用专有的录制软件重新将视频录制一遍，视频分辨率大大不如原视频。

---

### 1.3.3 外挂字幕的三种格式
- srt 格式：这是最好的，体积小，用记事本可以打开编辑。
- sub+idx：这种是图形字幕，只能用字幕转换软件；体积较大。
- ass 字幕：网上比较少，比 srt 多一些特效。

注意：

使用外挂字幕的时候，要保证字幕文件和视频文件放置在同一个文件夹下，并且保证两者的文件名相同，但是不要修改后缀和标识（常见的标识有 chs、GB，cht，Big5，eng 五种；其中 chs 和 GB 表示简体中文，cht 和 Big5 表示繁体中文，eng 表示英文）：

例如：

视频的文件名为：越狱（13）.avi

外挂字幕的文件名就应为：越狱（13）.chs.srt

---

## 1.4 采集录制和播放渲染

