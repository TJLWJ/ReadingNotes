第11章 Web的攻击技术

---

1.针对Web应用的攻击模式 
- 主动攻击 
- 被动攻击

---

2.以服务器为目标的主动攻击 

攻击者通过直接访问Web应用，把攻击代码传入的攻击模式。

---

3.主动攻击模式里面具有代表性的攻击是SQL注入攻击和OS命令注入攻击。

---

4.以服务器为目标的被动攻击 

利用圈套策略执行攻击代码的攻击模式。

---

5.Web应用的安全对策 
- 客户端的验证 
- Web应用端(服务器端)的验证 
- 输入值验证 
- 输出值转义

---

6.跨站脚本攻击-Cross-Site Scripting,XSS

通过存在安全漏洞的Web网站注册用户的浏览器内运行非法的HTML标签或JavaScript进行的一种攻击。

---

7.跨站脚本攻击的影响 
- 利用虚假输入表单骗取用户个人信息 
- 利用脚本窃取用户的Cookie值，被害都在不知情的情况下，帮助攻击发送恶意请求 
- 显示伪造的文章或图片

---

8.SQL注入(SQL Injection)是指针对Web应用使用的数据库，通过运行非法的SQL而产生的攻击。

---

9.SQL注入攻击的影响 
- 非法查看或篡改数据库内的数据 
- 规避认证 
- 执行和数据库服务器业务关联的程序等

---

10.OS命令注入攻击 

通过Web应用，执行非法的操作系统命令达到攻击的目的。 

只要在能调用Shell函数的地方就有存在被攻击的风险。 

通过OS注入攻击可执行OS上安装着的各种程序。

---

11.HTTP首部注入攻击(HTTP Header Injection)是指攻击者通过在响应首部字段内插入换行，添加任意响应首部或主体的一种攻击。属于被动攻击模式。

---

12.向首部主体内添加内容的攻击称为HTTP响应截断攻击(HTTP Response Splitting Attack)

---

13.HTTP首部注入攻击影响 
- 设置任何Cookie信息 
- 重定向至任意URL 
- 显示任意的主体(HTTP响应截断攻击)

---

14.%0D%0A 

代表HTTP报文中的换行符

---

15.HTTP响应截断攻击是用在HTTP首部注入的一种攻击。攻击顺序相同，但是要将两个%0D%0A并排插入字符串后发送。利用这两个连续的换行就可作出HTTP首部与主体分隔所需的空行了，这样就能显示伪造的主体，达到攻击目的。

---

16.邮件首部注入攻击 

邮件首部注入(Mail Header Injection)是指Web应用中的邮件发送功能，通过向邮件首部To或Subject内任意添加非法内容发起的攻击。

---

17.目录遍历攻击-Directory Traversal 

对本无意公开的文件目录，通过非法截断其目录路径后，达成访问目的的一种攻击。 

这种攻击有时也称为路径遍历(Path Traversal)攻击

---

18.远程文件包含漏洞-Remote File Inclusion 

当部分脚本内容需要从其他文件读入时，攻击都利用指定外部服务器的URL充当依赖文件，让脚本读取之后，就可运行任意脚本的一种攻击。 

这主要是PHP存在的安全漏洞，对PHP的include或require来说，这是一种可通过设定，指定外部服务器的URL作为文件名的功能。但是，该功能太危险，PHP5.2.0之后默认设定些功能无效。

---

19.强制浏览(Forced Browsing) 

从安置在Web服务器的公开目录下的文件中，浏览那些原本非自愿公开的文件。

影响： 
- 泄露顾客的人个信息等重要情报 
- 泄露原本需要具有访问权限的用户才可查阅的信息内容 
- 泄露未外连到外界的文件

---

20.不正确的错误消息处理(Error Handling Vulnerability) 

Web应用的错误信息内包含对攻击者有用的信息 
- Web应用抛出的错误消息 
- 数据库等系统抛出的错误消息

---

21.开放重定向-Open Redirect 

一种对指定的任意URL作重定向跳转的功能。

---

22.会话动持(Session Hijack) 

是指攻击者通过某种手段拿到了用户的会话ID，并非法使用些会话ID伪装成用户，达到攻击的目的。

---

23.攻击都可获得会话ID的途径 
- 通过非正规的生成方法推测会话ID 
- 通过窃听或XSS攻击盗取会话ID 
- 通过会话固定攻击(Session Fixation)强行获取会话ID

2017.10.6 10:05:53~2017.10.6 11:39:53

---

24.会话固定攻击 

强制用户使用攻击者指定的会话ID，属于被动攻击。

---

25.跨站点请求伪造-Cross-Site Request Forgeries,CSRF 

攻击者通过设置好的陷阱，强制对已完成认证的用户进行非预期的个人信息或设定信息等某些状态更新，属于被动攻击。

影响： 
- 利用已通过认证的用户权限更新设定信息等 
- 利用已通过认证的用户权限购买商品 
- 利用已通过认证的用户权限在留言板上发表言论

2017-12-11 08:37:00~2017-12-11 08:42:34

---

26.其他安全漏洞 

26.1 密码破解-Password Cracking 

即算出密码，突破认证。不仅限于Web应用，包括其他系统(FTP、SSH等)

两种手段： 
- 通过网络的密码试错(穷举法，字典攻击) 
- 对已加密密码的破解(穷举法、字典攻击进行类推，彩虹表，拿到密钥，加密算法的漏洞)

除去突破认证的攻击手段，还有SQL注入攻击逃避认证，跨站脚本攻击窃取密码信息等。

---

26.2 点击劫持-Clickjacking 

利用透明的按钮或链接做成陷阱，覆盖在Web页面之上。然后诱使用户在不知情的情况下，点击那个链接访问内容的一种攻击。这种行为不称为界面伪装(UI Redressing)

---

26.3 Dos攻击-Denial of Service attack 

是一种让运行中的服务呈停止状态的攻击。

两种方式 
- 集中利用访问请求千万资源过载，资源用尽的同时，实际上服务也就呈停止状态 
- 通过攻击安全漏洞使用服务停止

---

26.4 后门程序-Backdoor 

开发设置的隐藏入口，可不按正常步骤使用受限功能。

三种类型 
- 开发阶段作为Debug调用的后门程序 
- 开发者为了自身利益植入的后门程序 
- 攻击者通过某种方法设置的后门程序

2017-12-11 09:15:33~2017-12-11 09:43:24
